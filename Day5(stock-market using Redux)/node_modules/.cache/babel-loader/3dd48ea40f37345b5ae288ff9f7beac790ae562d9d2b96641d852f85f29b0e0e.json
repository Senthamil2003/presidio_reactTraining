{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nexport const MyStockSlice = createSlice({\n  name: \"stock\",\n  initialState: {\n    myStock: [],\n    MyBalance: 1000\n  },\n  reducers: {\n    BuyStock: (state, action) => {\n      let stockExists = false;\n      state.myStock.forEach(item => {\n        if (item.id === action.payload.id) {\n          item.ct += 1; // Increment count if stock exists\n          stockExists = true;\n        }\n      });\n      if (!stockExists) {\n        state.myStock.push({\n          ...action.payload,\n          ct: 1\n        });\n      }\n      state.MyBalance -= action.payload.price; // Deduct the price from balance\n    },\n    SellStock: (state, action) => {\n      const updatedStocks = state.myStock.filter(item => {\n        if (item.id === action.payload.id) {\n          if (item.ct > 1) {\n            item.ct -= 1;\n            return true; // Keep the item in the array\n          }\n          return false; // Remove item if count reaches zero\n        }\n        return true;\n      });\n      state.myStock = updatedStocks;\n      state.MyBalance += action.payload.price;\n    }\n  }\n});\nexport default MyStockSlice.reducer;","map":{"version":3,"names":["createSlice","MyStockSlice","name","initialState","myStock","MyBalance","reducers","BuyStock","state","action","stockExists","forEach","item","id","payload","ct","push","price","SellStock","updatedStocks","filter","reducer"],"sources":["/Users/senthamil/Documents/React_training/Day5(stock-market using Redux)/src/store/MyStockSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nexport const MyStockSlice = createSlice({\n  name: \"stock\",\n  initialState: {\n    myStock: [],\n    MyBalance: 1000,\n  },\n  reducers: {\n    BuyStock: (state, action) => {\n      let stockExists = false;\n      state.myStock.forEach((item) => {\n        if (item.id === action.payload.id) {\n          item.ct += 1; // Increment count if stock exists\n          stockExists = true;\n        }\n      });\n\n      if (!stockExists) {\n        state.myStock.push({ ...action.payload, ct: 1 });\n      }\n      state.MyBalance -= action.payload.price; // Deduct the price from balance\n    },\n    SellStock: (state, action) => {\n      const updatedStocks = state.myStock.filter((item) => {\n        if (item.id === action.payload.id) {\n          if (item.ct > 1) {\n            item.ct -= 1;\n            return true; // Keep the item in the array\n          }\n          return false; // Remove item if count reaches zero\n        }\n        return true; \n      });\n      state.myStock = updatedStocks;\n      state.MyBalance += action.payload.price; \n    },\n  },\n});\n\n\nexport default MyStockSlice.reducer;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,OAAO,MAAMC,YAAY,GAAGD,WAAW,CAAC;EACtCE,IAAI,EAAE,OAAO;EACbC,YAAY,EAAE;IACZC,OAAO,EAAE,EAAE;IACXC,SAAS,EAAE;EACb,CAAC;EACDC,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3B,IAAIC,WAAW,GAAG,KAAK;MACvBF,KAAK,CAACJ,OAAO,CAACO,OAAO,CAAEC,IAAI,IAAK;QAC9B,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,EAAE;UACjCD,IAAI,CAACG,EAAE,IAAI,CAAC,CAAC,CAAC;UACdL,WAAW,GAAG,IAAI;QACpB;MACF,CAAC,CAAC;MAEF,IAAI,CAACA,WAAW,EAAE;QAChBF,KAAK,CAACJ,OAAO,CAACY,IAAI,CAAC;UAAE,GAAGP,MAAM,CAACK,OAAO;UAAEC,EAAE,EAAE;QAAE,CAAC,CAAC;MAClD;MACAP,KAAK,CAACH,SAAS,IAAII,MAAM,CAACK,OAAO,CAACG,KAAK,CAAC,CAAC;IAC3C,CAAC;IACDC,SAAS,EAAEA,CAACV,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAMU,aAAa,GAAGX,KAAK,CAACJ,OAAO,CAACgB,MAAM,CAAER,IAAI,IAAK;QACnD,IAAIA,IAAI,CAACC,EAAE,KAAKJ,MAAM,CAACK,OAAO,CAACD,EAAE,EAAE;UACjC,IAAID,IAAI,CAACG,EAAE,GAAG,CAAC,EAAE;YACfH,IAAI,CAACG,EAAE,IAAI,CAAC;YACZ,OAAO,IAAI,CAAC,CAAC;UACf;UACA,OAAO,KAAK,CAAC,CAAC;QAChB;QACA,OAAO,IAAI;MACb,CAAC,CAAC;MACFP,KAAK,CAACJ,OAAO,GAAGe,aAAa;MAC7BX,KAAK,CAACH,SAAS,IAAII,MAAM,CAACK,OAAO,CAACG,KAAK;IACzC;EACF;AACF,CAAC,CAAC;AAGF,eAAehB,YAAY,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}